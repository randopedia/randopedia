<!-- 
    Template for an image uploader with preview of selected images    
-->
<div class="image-upload-view">

	<div class="row">
	    <div class="col-sm-12">
	        <h4>Upload new images</h4>
	    </div>
	</div>
	
	<div class="row">
	    <div class="col-sm-12">
	        <div>{{view App.FileUploadView}}</div>
	    </div>
	</div>
	
	{{#if hasNewImage}}
	<div class="row">
	   <div class="col-sm-12">
	        <div class="panel">
	            <div class="row">
	                <div class="col-sm-12 col-lg-2">
                         <div class="thumbnail-wrapper">
                            <img {{bindAttr src="newImage.imageFile"}} class="thumbnail-image" />
                        </div>
	                </div>
	                <div class="col-sm-12 col-lg-10">
                        <form class="form">
                            <div class="form-group">
                                <label>Caption</label>
                                {{input value=image.caption maxlength="300" class="form-control"}}
                            </div>
                         <div class="form-group">
                              <button class="btn btn-default pull-right" {{action "removeNewImage"}} class="btn btn-default">Cancel</button>
                              <button class="btn btn-primary pull-right" {{action "saveNewImage"}} class="btn btn-primary">Upload image</button>
                            </div>                                            
                        </form>
	                </div>
	            </div>
	        </div>
	     </div>
	</div>
	{{/if}}
	
	<div class="row">
	    <div class="col-sm-12">
	        <div class="spacing-y">
	           Images will be scaled down to 1024*768px (Recommended to only upload images in landscape format)
	        </div>
	    </div>
	</div>
	
	<div class="row">
	    <div class="col-sm-12">
	        <hr />
	        <h4>Current tour images <span class="secondary-text">({{images.length}})</span></h4>
	    </div>
	</div>
	
	<div class="row">
		<div class="col-sm-12">
		{{#each image in images}}
		    {{#unless image.isNew}}
	            <div class="col-sm-12">
	                <div class="">
	                    <div class="row">
	                        <div class="col-sm-12 col-lg-2">
	                            <div class="">
	                                 <div class="thumbnail-wrapper">
	                                    <img {{bindAttr src="image.imageFile"}} class="thumbnail-image" />
	                                </div>
	                            </div>
	                        </div>
	                        <div class="col-sm-12 col-lg-10">
	                            <form class="form">
	                                <div class="form-group">
		                                <label>Caption</label>
                                        {{input value=image.caption maxlength="300" class="form-control"}}
                                    </div>
                                    <div class="form-group">
                                        <div class="checkbox">
										    <label>
										        {{input type="checkbox" name="isPorfolio" checked=image.isPortfolio }} Is portfolio image
										    </label>
										 </div>
		                                 <button  {{action "saveImage" image}} {{bindAttr disabled="image.isUpdateDisabled"}} class="btn btn-primary pull-right">Update</button>
		                                 <button {{action "startDeleteImage" image target="view"}} data-reveal-id="confirmDeleteImageReveal" {{bindAttr disabled="image.isDeleteDisabled"}} class="btn btn-primary pull-right">Delete image</button>
                                    </div>                                            
                                </form>
	                        </div>
	                    </div>
	                </div>
	            </div>
		    {{/unless}}
		{{/each}}
	    </div>         
	</div>
	
	<div class="modal fade" id="confirmDeleteImageModal" tabindex="-1" role="dialog" aria-hidden="true">
	    <div class="modal-dialog modal-sm">
	        <div class="modal-content">
	            <div class="modal-body">
	                Are you sure you want to delete the image? It will not be possible to restore the image.
	            </div>
	            <div class="modal-footer">
	                <button class="btn btn-primary pull-left" {{action "closeConfirmDeleteImage" target="view" }}>Cancel</button>                
	                <button class="btn btn-default pull-right" {{action "confirmDeleteImage" target="view"}}>Delete image</button>
	            </div>
	        </div>
	    </div>    
	</div>

</div>
